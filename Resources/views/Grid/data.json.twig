{% set first = true %}
{
    "actions": [
        {% set first = true %}
        {% for action in grid.actions %}
            {% if not first %}
                ,
            {% else %}
                {% set first = false %}
            {% endif %}
            {
                "alias": "{{ action.alias }}",
                "class": "{{ action.class }}",
                "icon": "{{ action.icon }}",
                "text": "{{ action.text }}",
                "title": "{{ action.title }}"
            }
        {% endfor %}
    ],
    "entities": [
        {% set first = true %}
        {% for entity in grid.entities %}
            {% if not first %}
                ,
            {% else %}
                {% set first = false %}
            {% endif %}
            {
                "paths": {
                    {% set first = true %}
                    {% for action in grid.actions %}
                        {% if not first %}
                            ,
                        {% else %}
                            {% set first = false %}
                        {% endif %}
                        "{{ action.alias }}":
                        "{{ path(action.alias, { 'id': entity[grid.idColumn] }) }}"
                    {% endfor %}
                },
                "values": {
                    {% set first = true %}
                    {% for header in grid.headers %}
                        {% if not first %}
                            ,
                        {% else %}
                            {% set first = false %}
                        {% endif %}
                        "{{ header.column }}":
                        {% if 'date' == header.type %}
                            "{{ entity[header.column] | date('Y-m-d') }}"
                        {% else %}
                            "{{ entity[header.column] }}"
                        {% endif %}
                    {% endfor %}
                }
            }
        {% endfor %}
    ],
    "exportLink":
        {% if '' == grid.exportAlias %}
            ""
        {% else %}
            "{{ path(grid.exportAlias, {'exportString': 'true', 'exportType': grid.exportType, 'search': grid.search, 'sorts': grid.sortsString }) }}"
        {% endif %},
    "exportType": "{{ grid.exportType }}",
    "filtered": "{{ grid.filtered }}",
    "headers": [
        {% set first = true %}
        {% for header in grid.headers %}
            {% if not first %}
                ,
            {% else %}
                {% set first = false %}
            {% endif %}
            {
                "column": "{{ header.column }}",
                "search": "{{ header.search }}",
                "show": "{{ header.show }}",
                "sortIcon": "{{ header.sortIcon }}",
                "title": "{{ header.title }}",
                "type": "{{ header.type }}"
            }
        {% endfor %}
    ],
    "last": "{{ grid.last }}",
    "page": "{{ grid.page }}",
    "perPage": "{{ grid.perPage }}",
    "total": "{{ grid.total }}",
    "sorts": [
        {% set first = true %}
        {% for sort in grid.sorts %}
            {% if not first %}
                ,
            {% else %}
                {% set first = false %}
            {% endif %}
            {
                "column": "{{ sort.column }}",
                "direction": "{{ sort.direction }}"
            }
        {% endfor %}
    ],
    "search": "{{ grid.search }}"
}
